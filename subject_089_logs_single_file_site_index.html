<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SUBJECT-089_LOGS</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* ========== BASE ========== */
    :root{
      --bg:#000000;
      --cyan:#00d8ff;
      --muted: rgba(0,216,255,0.08);
      --glass: rgba(0,10,15,0.6);
      --accent: rgba(0,216,255,0.12);
      --mono: 'Share Tech Mono', monospace;
      --headline: 'Orbitron', sans-serif;
    }
    html,body{height:100%;}
    body{
      margin:0;
      background: radial-gradient(ellipse at center, #001219 0%, #000000 60%);
      color:var(--cyan);
      font-family:var(--mono);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }

    /* CRT scanlines */
    body::after{
      content:"";
      position:fixed;inset:0;
      pointer-events:none;
      background-image:linear-gradient(rgba(255,255,255,0.01) 1px, transparent 1px);
      background-size:100% 3px;
      mix-blend-mode:overlay;
    }

    /* container */
    .wrap{
      box-sizing:border-box;
      max-width:1100px;
      margin:28px auto;
      height:calc(100% - 56px);
      padding:18px;
      border:1px solid rgba(0,216,255,0.08);
      background:linear-gradient(180deg, rgba(0,10,15,0.6), rgba(0,0,0,0.4));
      box-shadow:0 10px 40px rgba(0,0,0,0.8), 0 0 60px rgba(0,216,255,0.02) inset;
      display:flex;flex-direction:column;gap:12px;
    }

    /* header */
    header{
      display:flex;align-items:center;gap:12px;padding:6px 10px;border-bottom:1px solid rgba(0,216,255,0.04);
    }
    .logo{
      width:56px;height:56px;border:2px solid var(--cyan);display:flex;align-items:center;justify-content:center;border-radius:6px;
      font-weight:700;font-family:var(--headline);font-size:14px;letter-spacing:1px;color:var(--cyan);
      box-shadow:0 6px 20px rgba(0,216,255,0.03);
    }
    .title{font-size:16px}
    .subtitle{font-size:12px;color:rgba(0,216,255,0.6);}

    /* terminal viewport */
    .terminal{
      flex:1;position:relative;padding:18px;border-radius:6px;overflow:auto;outline:1px solid rgba(0,216,255,0.02);
      background:linear-gradient(180deg, rgba(0,6,10,0.6), rgba(0,0,0,0.2));
    }

    .line{white-space:pre-wrap;font-size:15px;line-height:1.4;margin:2px 0}
    .muted{color:rgba(0,216,255,0.45)}
    .error{color:#ff6b6b}

    /* blinking cursor */
    .cursor{display:inline-block;width:10px;height:18px;background:var(--cyan);margin-left:6px;vertical-align:middle;animation:blink 1s steps(1) infinite}
    @keyframes blink{50%{opacity:0}}

    /* menu */
    .menu{display:flex;gap:12px;margin-top:8px}
    .menu button{background:transparent;border:1px solid rgba(0,216,255,0.06);color:var(--cyan);padding:8px 14px;border-radius:6px;font-family:var(--mono);cursor:pointer}
    .menu button.active{box-shadow:0 6px 30px rgba(0,216,255,0.06);background:linear-gradient(180deg, rgba(0,216,255,0.02), transparent)}

    /* pages */
    .page{display:none;padding:12px 4px}
    .page.active{display:block}

    /* cards */
    .card{border:1px solid rgba(0,216,255,0.04);padding:12px;border-radius:6px;background:linear-gradient(180deg, rgba(0,10,15,0.25), rgba(0,0,0,0.1));margin:10px 0}
    .card h3{margin:0 0 6px 0;font-family:var(--headline);letter-spacing:0.6px}
    .meta{font-size:12px;color:rgba(0,216,255,0.5)}
    .thumb{width:100%;height:160px;background:linear-gradient(90deg, rgba(0,216,255,0.04), rgba(0,216,255,0.02));display:flex;align-items:center;justify-content:center;border-radius:4px;color:rgba(0,216,255,0.22);}

    /* glitch effect */
    .glitch{
      position:relative;display:inline-block;
    }
    .glitch::before, .glitch::after{
      content:attr(data-text);
      position:absolute;left:0;top:0;
      opacity:0.8;
      clip-path:polygon(0 0,100% 0,100% 33%,0 33%);
    }
    .glitch::before{transform:translate(-2px,-1px);color:var(--cyan);mix-blend-mode:screen;filter:blur(0.6px);animation:glitch-anim 2.8s infinite linear}
    .glitch::after{transform:translate(2px,1px);color:rgba(0,216,255,0.6);mix-blend-mode:screen;filter:hue-rotate(10deg);animation:glitch-anim2 3.1s infinite linear}
    @keyframes glitch-anim{0%{transform:translate(-2px,-1px)}20%{transform:translate(1px,0)}40%{transform:translate(-1px,1px)}60%{transform:translate(0,-1px)}100%{transform:translate(-2px,-1px)}}
    @keyframes glitch-anim2{0%{transform:translate(2px,1px)}30%{transform:translate(-1px,0)}60%{transform:translate(1px,-1px)}100%{transform:translate(2px,1px)}}

    /* footer */
    footer{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;border-top:1px solid rgba(0,216,255,0.02);font-size:12px;color:rgba(0,216,255,0.45)}

    /* responsive */
    @media(max-width:720px){.wrap{margin:8px;padding:12px;height:calc(100% - 16px)} .thumb{height:120px}}
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div class="logo">089</div>
      <div>
        <div class="title">SUBJECT-089_LOGS</div>
        <div class="subtitle">Archivio recuperato — accesso riservato</div>
      </div>
      <div style="margin-left:auto;font-size:12px;color:rgba(0,216,255,0.35)">v0.9 - build cinematic</div>
    </header>

    <main class="terminal" id="terminal">
      <!-- boot output -->
      <div id="boot"></div>

      <!-- menu (renders after boot) -->
      <nav class="menu" id="menu" style="display:none">
        <button data-target="home" class="active">Terminale</button>
        <button data-target="missioni">Missioni</button>
        <button data-target="creature">Creature</button>
        <button data-target="appunti">Appunti</button>
      </nav>

      <!-- pages -->
      <section id="home" class="page active">
        <div class="line"><span class="glitch" data-text="> ACCESSO SISTEMA...">&gt; ACCESSO SISTEMA...</span></div>
        <div class="line muted">&gt; RECUPERO LOG MEMORIA...</div>
        <div class="line muted">&gt; WARDEN: CONTROLLO NON AUTORIZZATO</div>
        <div class="line">&gt; LOG DISPONIBILI: [MISSIONI] [CREATURE] [APPUNTI]</div>
        <div class="line" style="margin-top:12px">&gt; DIGITA O USARE IL MENU PER NAVIGARE. (ES. &quot;open missioni&quot;)</div>

        <div style="margin-top:14px">
          <input id="command" placeholder="> inserisci comando..." style="width:100%;padding:10px;border-radius:6px;border:1px solid rgba(0,216,255,0.06);background:transparent;color:var(--cyan);font-family:var(--mono);outline:none"> 
        </div>

        <div id="console-out" style="margin-top:12px"></div>
      </section>

      <!-- missioni -->
      <section id="missioni" class="page">
        <div class="card">
          <h3>Rundown 01 — A1: La Discesa</h3>
          <div class="meta">Codice: RUNDOWN-01 · Data recupero: 2037-04-12</div>
          <div class="thumb" style="margin-top:8px">Screenshot placeholder</div>
          <p style="margin-top:8px">Resoconto (estratto):<br> Siamo scesi nel livello A1. L'aria era ferma, e i corridoi odoravano di metallo vecchio. Terminali corrotti indicavano esperimenti su campioni biologici.</p>
          <div style="margin-top:8px;color:rgba(0,216,255,0.5)">Visualizza video correlato → <a href="#" style="color:var(--cyan);text-decoration:underline">(link video)</a></div>
        </div>

        <div class="card">
          <h3>Rundown 02 — B2: Condotto 7</h3>
          <div class="meta">Codice: RUNDOWN-02 · Data recupero: 2037-04-29</div>
          <div class="thumb" style="margin-top:8px">Screenshot placeholder</div>
          <p style="margin-top:8px">Estratto log terminale:</p>
          <pre style="background:rgba(0,0,0,0.2);padding:10px;border-radius:4px;color:rgba(0,216,255,0.8);font-size:13px">LOG_29B:
&gt; Integrità campione: COMPROMESSA
&gt; AVVISO: ATTIVARE PROTOCOLLO SIGILLO</pre>
        </div>
      </section>

      <!-- creature -->
      <section id="creature" class="page">
        <div class="card">
          <h3>"Ombre" — Designazione provvisoria</h3>
          <div class="meta">Osservato: comportamenti reattivi alla luce e al suono</div>
          <div class="thumb">Immagine placeholder</div>
          <p style="margin-top:8px">Descrizione: Appaiono come silhouette scure, con movimenti rapidi. Sembrano evitare le fonti luminose intense.</p>
        </div>

        <div class="card">
          <h3>Specimen X-7</h3>
          <div class="meta">Rilevato nei settori di stoccaggio biologico</div>
          <div class="thumb">Immagine placeholder</div>
          <p style="margin-top:8px">Annotazione: alcuni esemplari mostrano segni di intervento chirurgico e impianti metallici non identificati.</p>
        </div>
      </section>

      <!-- appunti -->
      <section id="appunti" class="page">
        <div class="card">
          <h3>Giorno 31</h3>
          <div class="meta">Nota privata</div>
          <p>Non so più quanto tempo è passato. I compagni sono sempre meno. Ho raccolto alcuni frammenti di terminale che parlano di una "Warden Unit" — non capisco chi la controlli.</p>
        </div>

        <div class="card">
          <h3>Frammento</h3>
          <pre style="background:rgba(0,0,0,0.2);padding:10px;border-radius:4px;color:rgba(0,216,255,0.8);font-size:13px">> FILE: /warden/dept/notes
> ...%#@## DATA CORROTTA ... RECOVERY 12% ...</pre>
        </div>
      </section>

    </main>

    <footer>
      <div>SUBJECT-089_LOGS — archivio temporaneo</div>
      <div class="muted">Suggerimento: usa il campo comandi per aprire pagine (es. "open missioni")</div>
    </footer>
  </div>

  <script>
    // ------- UTILITA' DI NAVIGAZIONE -------
    const menu = document.getElementById('menu');
    const buttons = document.querySelectorAll('.menu button');
    const pages = document.querySelectorAll('.page');
    const terminal = document.getElementById('terminal');
    const boot = document.getElementById('boot');

    function showPage(id){
      pages.forEach(p=>p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      buttons.forEach(b=>b.classList.toggle('active', b.dataset.target===id));
      // scroll top of terminal
      terminal.scrollTop = 0;
    }

    buttons.forEach(b=>b.addEventListener('click', ()=>{
      showPage(b.dataset.target);
      window.location.hash = b.dataset.target;
    }));

    // ------- BOOT SEQUENCE (digitazione cinematica) -------
    const bootLines = [
      "> AVVIO SEQUENZA...",
      "> IDENTIFICATIVO: PRISONER_089",
      "> RECUPERO LOG MEMORIA IN CORSO",
      \"> INTEGRITA' PARZIALMENTE COMPROMESSA",
      \"> WARDEN: ACCESSO NON AUTORIZZATO RILEVATO",
      "> INIZIALIZZAZIONE INTERFACCIA...",
      "> CARICAMENTO MODULI: [TERMINALE] [LOGS] [VISUAL]",
    ];

    function cinematicType(lines, container, cb){
      let i=0;
      function next(){
        if(i>=lines.length){
          cb && cb();
          return;
        }
        const el = document.createElement('div');
        el.className='line';
        // glitch occasionale
        const chance = Math.random();
        if(chance>0.78){
          el.innerHTML = '<span class="glitch" data-text="'+lines[i].replace(/</g,'&lt;')+'">'+lines[i]+'</span>';
        } else {
          el.textContent = lines[i];
        }
        container.appendChild(el);
        container.scrollTop = container.scrollHeight;
        i++;
        // tempo variabile per effetto cinematico
        setTimeout(next, 600 + Math.random()*700);
      }
      next();
    }

    // dopo boot mostra il menu
    cinematicType(bootLines, boot, ()=>{
      // mostra menu
      menu.style.display='flex';
      // aggiunta di cursore sulla home
      const cursor = document.createElement('span'); cursor.className='cursor';
      const home = document.querySelector('#home');
      const last = home.querySelector('#console-out');
      home.querySelector('#console-out').appendChild(cursor);
      // apri pagina indicata hash o home
      const target = location.hash ? location.hash.replace('#','') : 'home';
      showPage(target);
      // piccola ondata di glitch all'avvio
      setTimeout(()=>{
        document.querySelectorAll('.glitch').forEach(g=>{g.style.opacity=1});
      },300);
    });

    // ------- GESTIONE COMANDI SEMPLICE -------
    const cmd = document.getElementById('command');
    const consoleOut = document.getElementById('console-out');
    function writeConsole(text, cls){
      const d = document.createElement('div'); d.className='line '+(cls||''); d.textContent = '> '+text; consoleOut.insertBefore(d, consoleOut.lastChild);
      consoleOut.parentElement.scrollTop = consoleOut.parentElement.scrollHeight;
    }

    cmd.addEventListener('keydown', (e)=>{
      if(e.key==='Enter'){
        const val = cmd.value.trim().toLowerCase();
        if(!val) return;
        writeConsole(val);
        cmd.value='';
        // semplice parsing
        if(val.startsWith('open ') || val.startsWith('apri ')){
          const target = val.split(' ')[1];
          if(['missioni','creature','appunti','home','terminale'].includes(target)){
            showPage(target==='terminale'?'home':target);
            writeConsole('apertura sezione: '+target);
          } else {
            writeConsole('sezione non trovata: '+target, 'error');
          }
        } else if(val==='help' || val==='?'){
          writeConsole('comandi: open/apri [missioni|creature|appunti|home], help, clear');
        } else if(val==='clear' || val==='cls'){
          consoleOut.innerHTML='';
        } else {
          writeConsole('comando non riconosciuto. digita "help" per assistenza', 'error');
        }
      }
    });

    // ------- gestione hash change -------
    window.addEventListener('hashchange', ()=>{
      const t = location.hash.replace('#',''); if(t) showPage(t);
    });

    // ------- piccoli glitch casuali sullo sfondo -------
    setInterval(()=>{
      const cards = document.querySelectorAll('.card');
      const r = Math.floor(Math.random()*cards.length);
      if(cards[r]){
        cards[r].style.transform = 'translateX('+ (Math.random()*6-3) +'px)';
        setTimeout(()=>cards[r].style.transform='translateX(0px)', 150 + Math.random()*350);
      }
    },2400);

    // accessibility: focus command
    cmd.addEventListener('focus', ()=>{cmd.style.outline='1px dashed rgba(0,216,255,0.12)'});
  </script>
</body>
</html>
